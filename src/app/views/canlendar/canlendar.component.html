<app-auth-navbar></app-auth-navbar>
<main class="profile-page">
    <section class="relative block h-500-px">
        <div class="absolute top-0 w-full h-full bg-center bg-cover" style="
        background-image: url('https://images.unsplash.com/photo-1499336315816-097655dcfbda?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2710&q=80');
      ">
            <span id="blackOverlay" class="w-full h-full absolute opacity-50 bg-black"></span>
        </div>
        <div class="top-auto bottom-0 left-0 right-0 w-full absolute pointer-events-none overflow-hidden h-70-px"
            style="transform: translateZ(0)">
            <svg class="absolute bottom-0 overflow-hidden" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none"
                version="1.1" viewBox="0 0 2560 100" x="0" y="0">
                <polygon class="text-blueGray-200 fill-current" points="2560 0 2560 100 0 100"></polygon>
            </svg>
        </div>
    </section>
    <section class="relative py-16 bg-blueGray-200">
        <div class="container mx-auto px-4">
            <div class="relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-xl rounded-lg -mt-64">
                <div class="text-center bg-blueGray-100">
                    <div class="container mx-auto p-1 bg-blueGray-100 rounded-lg shadow-lg mb-10">
                        <div class="rounded-t bg-white mb-0 px-6 py-6">
                            <div class="text-center flex justify-between">
                                <h6 class="text-blueGray-700 text-xl font-bold">Reporte de Basura</h6>
                            </div>
                        </div>
                        <div class="flex-auto px-4 lg:px-10 py-10 pt-0">
                            <div class="container mx-auto mt-10">
                                <form (ngSubmit)="onSubmit()" [formGroup]="calendarForm">
                                    <div class="flex flex-wrap -mx-4 mb-2">
                                        <div class="w-full lg:w-12 px-4 mb-6 lg:mb-0">
                                            <div class="relative mb-4">
                                                <label class="block text-gray-700 text-sm font-bold mb-2"
                                                    for="neighborhood">
                                                    Barrio
                                                </label>
                                                <input type="text" [formControl]="searchControl"
                                                    class="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
                                                    placeholder="Buscar barrio" (focus)="showBarrios = true"
                                                    (blur)="hideBarrios()">
                                                <div class="absolute w-full mt-1 rounded-md bg-white shadow-lg z-50"
                                                    *ngIf="showBarrios">
                                                    <ul *ngIf="filteredBarrios.length > 0"
                                                        class="max-h-60 overflow-auto">
                                                        <li *ngFor="let barrio of filteredBarrios.slice(0, 7); let i = index"
                                                            (click)="selectBarrio(barrio)"
                                                            class="cursor-pointer hover:bg-gray-100 px-4 py-2">
                                                            {{ barrio.name }}
                                                        </li>
                                                    </ul>
                                                    <div *ngIf="filteredBarrios.length === 0 && searchControl.value"
                                                        class="px-4 py-2 text-gray-500">No se encontraron barrios</div>
                                                </div>
                                            </div>
                                            <div *ngIf="calendarForm.get('neighborhood').errors?.required && calendarForm.get('neighborhood').touched"
                                                class="text-red-500">
                                                Este campo es obligatorio.
                                            </div>
                                        </div>
                                    </div>

                                    <button type="submit" style="background-color: #48bb78; color: white;"
                                        class="uppercase text-sm px-6 py-3 mb-6 rounded shadow hover:bg-green-500 focus:outline-none active:bg-green-600 transition duration-150 ease-in-out">
                                        Enviar
                                    </button>

                                </form>

                                <div class="flex flex-wrap w-full">
                                    <div class="w-full lg:w-3/12 px-4 mb-6 lg:mb-0">
                                        <div
                                            class="bottom flex-grow h-30 py-1 w-full cursor-pointer text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-orange-600 bg-orange-200 last:mr-0 mr-1">
                                            Servicio de publico de aseo
                                        </div>
                                    </div>
                                    <div class="w-full lg:w-9/12 px-4 mb-6 lg:mb-0">
                                        <div class="wrapper bg-white rounded shadow w-full ">
                                            <div class="header flex justify-between border-b p-2">
                                                <span class="text-lg font-bold">
                                                    {{year}} {{month}}
                                                </span>
                                                <div class="buttons">
                                                    <button class="p-1">
                                                        <svg width="1em" fill="gray" height="1em" viewBox="0 0 16 16"
                                                            class="bi bi-arrow-left-circle" fill="currentColor"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path fill-rule="evenodd"
                                                                d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                                                            <path fill-rule="evenodd"
                                                                d="M8.354 11.354a.5.5 0 0 0 0-.708L5.707 8l2.647-2.646a.5.5 0 1 0-.708-.708l-3 3a.5.5 0 0 0 0 .708l3 3a.5.5 0 0 0 .708 0z" />
                                                            <path fill-rule="evenodd"
                                                                d="M11.5 8a.5.5 0 0 0-.5-.5H6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 .5-.5z" />
                                                        </svg>
                                                    </button>
                                                    <button class="p-1">
                                                        <svg width="1em" fill="gray" height="1em" viewBox="0 0 16 16"
                                                            class="bi bi-arrow-right-circle" fill="currentColor"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path fill-rule="evenodd"
                                                                d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                                                            <path fill-rule="evenodd"
                                                                d="M7.646 11.354a.5.5 0 0 1 0-.708L10.293 8 7.646 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0z" />
                                                            <path fill-rule="evenodd"
                                                                d="M4.5 8a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5z" />
                                                        </svg>
                                                    </button>
                                                </div>
                                            </div>
                                            <table class="w-full">
                                                <thead>
                                                    <tr>
                                                        <th *ngFor="let weekday of weekdaysList"
                                                            class="p-2 border-r h-10 xl:w-40 lg:w-30 md:w-30 sm:w-20 w-10 xl:text-sm text-xs">
                                                            <span
                                                                class="xl:block lg:block md:block sm:block hidden">{{weekday.name}}</span>
                                                            <span
                                                                class="xl:hidden lg:hidden md:hidden sm:hidden block">{{weekday.name}}</span>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let objweek of objWeeks" class="text-center h-20">
                                                        <td *ngFor="let day of objweek"
                                                            class="border p-1 h-40 xl:w-40 lg:w-30 md:w-30 sm:w-20 w-10 overflow-auto transition cursor-pointer duration-500 ease hover:bg-gray-300">
                                                            <div
                                                                class="flex flex-col h-40 mx-auto xl:w-40 lg:w-30 md:w-30 sm:w-full w-full mx-auto overflow-hidden">
                                                                <div class="top h-5 w-full">
                                                                    <span class="text-gray-500">{{day.day}}</span>
                                                                </div>
                                                                <div *ngIf="day.text"
                                                                    class="bottom flex-grow h-30 py-1 w-full cursor-pointer text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-orange-600 bg-orange-200 last:mr-0 mr-1">
                                                                    {{day.text}}
                                                                </div>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>
<app-footer></app-footer>